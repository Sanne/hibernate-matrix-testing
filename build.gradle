plugins {
	id 'java-gradle-plugin'
	id 'groovy'
	id 'idea'
	id 'eclipse'
}

repositories {
    mavenCentral()
		maven {
			name "jboss-snapshots"
			url "http://snapshots.jboss.org/maven2/"
		}
}

group = 'org.hibernate.build.gradle'
version = '2.0.0-SNAPSHOT'

buildDir = "target"

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile 'org.apache.ant:ant:1.8.2'

	ext {
		junit5Version = '5.0.1'
	}

	// JUnit dependencies made up of:
	// 		* JUnit 5
	// 		* the Jupiter engine which runs JUnit 5 based tests
	//		* the "vintage" engine - which runs JUnit 3 and 4 based tests
	testCompile( "org.junit.jupiter:junit-jupiter-api:${dependencies.ext.junit5Version}" )
	testCompile( "org.junit.jupiter:junit-jupiter-params:${dependencies.ext.junit5Version}" )
	testRuntime( "org.junit.jupiter:junit-jupiter-engine:${dependencies.ext.junit5Version}" )
}

idea {
	project {
		languageLevel = '1.6'
	}
	module {
		downloadSources = true
	}
}

task compile
tasks.compile.dependsOn tasks.compileJava, tasks.compileTestJava

task copyResourcesToIntelliJOutFolder {
	doLast {
		copy {
			from "$buildDir/resources/test"
			into 'out/test/resources'
		}
	}
}

task wrapper(type: Wrapper) {
    gradleVersion = '4.6'
}
